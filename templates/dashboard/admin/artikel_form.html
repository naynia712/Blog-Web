{% extends 'dashboard/base.html' %}
{% load static %}
{% block css %}
  <style>
    .django-ckeditor-widget {
      width: 100%;
    }
  </style>
  <link href="{% static 'django_ckeditor_5/dist/styles.css' %}" media="all" rel="stylesheet" />
{% endblock %}
  

{% block content %}
<div class="row mt-4">
  <div class="col-lg-12 col-12 mx-auto position-relative">
    <div class="card">
      <div class="card-header p-3 pt-2">
        <div class="icon icon-lg icon-shape bg-gradient-dark shadow text-center border-radius-xl mt-n4 me-3 float-start">
          <i class="material-icons opacity-10">event</i>
        </div>
        <h6 class="mb-0">Form Artikel</h6>
      </div>
      <div class="card-body pt-2">
        <form method="POST" enctype="multipart/form-data">
          {% csrf_token %}

          <!-- Judul Artikel -->
          <div class="mb-3">
            <label for="{{ forms.judul.id_for_label }}" class="form-label">Judul Artikel</label>
            {{ forms.judul }}
          </div>

          <!-- Konten -->
          <div class="mb-3">
            <label for="{{ forms.konten.id_for_label }}" class="form-label">Konten</label>
            {{ forms.konten }}
          </div>

          <!-- Kategori -->
          <div class="mb-3">
            <label for="{{ forms.kategori.id_for_label }}" class="form-label">Kategori</label>
            {{ forms.kategori }}
          </div>

          <!-- Gambar -->
          <div class="mb-3">
            <label for="{{ forms.gambar.id_for_label }}" class="form-label">Gambar</label>
            {{ forms.gambar }}
          </div>

          <!-- Status -->
          <div class="mb-3">
            <label for="{{ forms.status.id_for_label }}" class="form-label">Status</label>
            {{ forms.status }}
          </div>

          <!-- Tombol Submit -->
          <div class="d-flex justify-content-end mt-4">
            <button type="submit" class="btn bg-gradient-dark m-0 ms-2">Simpan</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block js %}
  <script src="{% static 'dashboard/assets/js/plugins/choices.min.js' %}"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="{% static 'django_ckeditor_5/dist/bundle.js' %}"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const choicesElement = document.getElementById('choices-multiple-remove-button');
      if (choicesElement) {
        const example = new Choices(choicesElement, {
          removeItemButton: true
        });
      }

      if (document.querySelector('.datetimepicker')) {
        flatpickr('.datetimepicker', {
          allowInput: true
        });
      }
    });
  </script>
{% endblock %}
